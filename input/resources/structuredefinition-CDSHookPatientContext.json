{
  "resourceType" : "StructureDefinition",
  "id" : "CDSHookPatientContext",
  "url" : "http://hl7.org/fhir/tools/StructureDefinition/CDSHookPatientContext",
  "version" : "0.0.1",
  "name" : "CDSHookPatientContext",
  "title" : "CDS Hook Specific Context for patient-view (Logical Definition)",
  "status" : "draft",
  "description" : "This structure is defined to allow the FHIR Validator to validate a CDSHooks Patient-View context",
  "kind" : "logical",
  "fhirVersion" : "4.0.1",
  "baseDefinition" : "http://hl7.org/fhir/tools/StructureDefinition/CDSHookContext",
  "derivation" : "specialization",
  "abstract"  : false,
  "type" : "CDSHookPatientContext",
  "differential" : {
    "element" : [
      {
        "path" : "CDSHookPatientContext",
        "short" : "The context for the patient-view hook"
      },
      {
        "path" : "CDSHookPatientContext.userId",
        "short" : "The id of the current user. Must be in the format [ResourceType]/[id].",
        "definition" : "For this hook, the user is expected to be of type Practitioner, PractitionerRole, Patient, or RelatedPerson. Patient or RelatedPerson are appropriate when a patient or their proxy are viewing the record. For example, Practitioner/abc or Patient/123.",
        "min" : 1,
        "max" : "1",
        "type" : [{ "code" : "url"}]        
      },
      {
        "path" : "CDSHookPatientContext.patientId",
        "short" : "The FHIR Patient.id of the current patient in context",
        "definition" : "The FHIR Patient.id of the current patient in context",
        "min" : 1,
        "max" : "1",
        "type" : [{ "code" : "id"}]        
      },
      {
        "path" : "CDSHookPatientContext.encounterId",
        "short" : "The FHIR Encounter.id of the current encounter in context",
        "definition" : "The FHIR Encounter.id of the current encounter in context",
        "min" : 0,
        "max" : "1",
        "type" : [{ "code" : "id"}]        
      }
    ]
  }
}